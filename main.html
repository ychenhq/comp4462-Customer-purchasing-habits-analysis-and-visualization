<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>US Map Customer Purchasing Visualization</title>
	<link rel="stylesheet" href="styles.css">
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>	
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
	<script src="constants.js"></script>
    <script src="mapdata.js"></script>
	<!--<script src="ridgeline.js"></script>-->
    <script src="usmap.js"></script>
	<script src="3D.js"></script>
	<script src="sankey.js"></script>
	<script src="functions.js"></script>
  </head>
	<body>
		<div class="main-container">
			<div>
				<h1>Customer Purchasing Behaviour</h1>
				<div class="fixed-container" >
					<div class="button-group">
					  <button onclick="showContent('description')">Description</button>
					  <button onclick="showContent('mapSection')">Heatmap</button>
					  <button onclick="showContent('dataOverview')">Data Overview</button>
					</div>
				
					<!-- Content Sections -->
					<div id="mapSection" class="content-section" style="max-width: 1200px">
						<p>Purchasing Amount Intensity</p>
						<div id="map"></div>
						<div id="heatmapLegend" class="heatmap-legend">
							<p>Purchase Intensity</p>
							<div class="legend-scale">
							  <span>Low</span>
							  <div class="legend-gradient"></div>
							  <span>High</span>
							</div>
						  </div>
					</div>

					<div id="description" class="content-section">
					  <h2>Description</h2>
					  <div id="3dCluster" style="width: 100%; height: 600px;"></div>
					</div>
				
					<div id="dataOverview" class="content-section">
					  <h2>Data Overview</h2>
					  <div>
						<!--<div id="ridgeline-container"></div>--->
						<div id="sankey-chart"></div>
						<canvas id="stateChart" width="400" height="200"></canvas>
					  </div>
					</div>
				</div>
				
			</div>
			 <!-- Container for the chart -->
			<div id="chart-container" >
				<div>
					<button id = "chart-button" onclick="showStateData(null, 'gender')"> 
						Gender Distribution
					</button>
					<button id = "chart-button" onclick="showStateData(null, 'color')">
						Color Preferences
					</button>
					<button id = "chart-button" onclick="showStateData(null, 'frequency')">
						Purchase Frequency
					</button>
				</div>
				<div id="bar-chart-gender" style="max-width: 1000px; padding: 1% ; max-height: 500px;">
					<h2 id="state-name"></h2>
					<canvas id="stateChartDetails" ></canvas>
				</div>
			</div>
		</div>
		
	</body>
</html>
      
    

